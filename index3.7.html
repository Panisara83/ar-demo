<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="utf-8" />
    <title>A-Frame Cursor + Raycaster Demo</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- แสง -->
      <a-light type="ambient" intensity="0.5"></a-light>

      <!-- กล่องพร้อม animation -->
      <a-box id="box" position="0 1 -3" color="blue"
             rotation="0 0 0"
             animation__rotate="property: rotation; to: 0 360 0; loop: true; dur: 4000; 
             startEvents: startSpin; pauseEvents: stopSpin">
      </a-box>

      <!-- กล้อง + Cursor -->
      <a-entity camera look-controls>
        <a-cursor raycaster="objects: #box"></a-cursor>
      </a-entity>

      <!-- Script สำหรับคลิก toggle animation -->
      <script>
        const box = document.querySelector('#box');
        let spinning = false;
        box.addEventListener('click', () => {
          if (!spinning) {
            box.emit('startSpin'); // เริ่มหมุน
          } else {
            box.emit('stopSpin');  // หยุดหมุน
          }
          spinning = !spinning;
        });
      </script>
    </a-scene>
  </body>
</html>
